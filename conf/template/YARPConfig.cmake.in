# Copyright: (C) 2009, 2010 RobotCub Consortium
# Authors: Paul Fitzpatrick, Giorgio Metta
# CopyPolicy: Released under the terms of the LGPLv2.1 or later, see LGPL.TXT


# Version
set(YARP_VERSION_MAJOR "@YARP_VERSION_MAJOR@")
set(YARP_VERSION_MINOR "@YARP_VERSION_MINOR@")
set(YARP_VERSION_PATCH "@YARP_VERSION_PATCH@")
set(YARP_VERSION_TWEAK "@YARP_VERSION_TWEAK@")
set(YARP_VERSION "@YARP_VERSION@")
set(YARP_VERSION_STRING "@YARP_VERSION_STRING@")
set(YARP_VERSION_ABI "@YARP_VERSION_ABI@")


@PACKAGE_INIT@

# Give the details of YARP libraries, include path etc.
set(YARP_LIBRARIES "@YARP_LIBRARIES@")
set(YARP_INCLUDE_DIRS "@PACKAGE_YARP_INCLUDE_DIRS@")
set(YARP_DEFINES "@YARP_ALL_DEFINES@") # only needed if you use ACE directly
set_and_check(YARP_BINDINGS "@PACKAGE_YARP_BINDINGS@")

# Check if deprecated methods are built
set(YARP_NO_DEPRECATED @YARP_NO_DEPRECATED@)
if(YARP_NO_DEPRECATED)
    add_definitions("-DYARP_NO_DEPRECATED")
endif(YARP_NO_DEPRECATED)

# Disable deprecated warnings, but add an option to enable it
include(CMakeDependentOption)
# FIXME 2.4 Workaround to reset this value to its default, remove it
#           at some point.
if(NOT YARP_NO_DEPRECATED_WARNINGS_DEFAULT_UPDATED)
    unset(YARP_NO_DEPRECATED_WARNINGS CACHE)
    set(YARP_NO_DEPRECATED_WARNINGS_DEFAULT_UPDATED TRUE CACHE BOOL "Workaround to reset this value to its default" INTERNAL)
endif()
cmake_dependent_option(YARP_NO_DEPRECATED_WARNINGS
                       "Do not warn when using YARP deprecated declarations" FALSE
                       "NOT YARP_NO_DEPRECATED" FALSE)
mark_as_advanced(YARP_NO_DEPRECATED_WARNINGS)
if(YARP_NO_DEPRECATED_WARNINGS)
    add_definitions("-DYARP_NO_DEPRECATED_WARNINGS")
endif()

# CMake modules directories
set_and_check(YARP_MODULE_DIR "@PACKAGE_YARP_MODULE_DIR@")
set(YARP_MODULE_PATH "${YARP_MODULE_DIR}")
if(${CMAKE_VERSION} VERSION_LESS 3.5)
    list(APPEND YARP_MODULE_PATH "${YARP_MODULE_DIR}/cmake-3.5/Modules")
endif()
if(${CMAKE_VERSION} VERSION_LESS 3.1)
    list(APPEND YARP_MODULE_PATH "${YARP_MODULE_DIR}/cmake-3.1/Modules")
endif()
if(NOT YARP_NO_DEPRECATED)
    list(APPEND YARP_MODULE_PATH "${YARP_MODULE_DIR}/deprecated")
endif()

# Install prefix
set(YARP_INSTALL_PREFIX "@PACKAGE_YARP_INSTALL_PREFIX@")

# Install directories (relative path)
set(YARP_DATA_INSTALL_DIR "@YARP_DATA_INSTALL_DIR@")
set(YARP_CONFIG_INSTALL_DIR "@YARP_CONFIG_INSTALL_DIR@")
set(YARP_PLUGIN_MANIFESTS_INSTALL_DIR "@YARP_PLUGIN_MANIFESTS_INSTALL_DIR@")
set(YARP_MODULES_INSTALL_DIR "@YARP_MODULES_INSTALL_DIR@")
set(YARP_APPLICATIONS_INSTALL_DIR "@YARP_APPLICATIONS_INSTALL_DIR@")
set(YARP_TEMPLATES_INSTALL_DIR "@YARP_TEMPLATES_INSTALL_DIR@")
set(YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR "@YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR@")
set(YARP_MODULES_TEMPLATES_INSTALL_DIR "@YARP_MODULES_TEMPLATES_INSTALL_DIR@")
set(YARP_CONTEXTS_INSTALL_DIR "@YARP_CONTEXTS_INSTALL_DIR@")
set(YARP_ROBOTS_INSTALL_DIR "@YARP_ROBOTS_INSTALL_DIR@")
set(YARP_STATIC_PLUGINS_INSTALL_DIR "@YARP_STATIC_PLUGINS_INSTALL_DIR@")
set(YARP_DYNAMIC_PLUGINS_INSTALL_DIR "@YARP_DYNAMIC_PLUGINS_INSTALL_DIR@")
set(YARP_QML2_IMPORT_DIR "@YARP_QML2_IMPORT_DIR@")

# Install directories (absolute path)
set_and_check(YARP_DATA_INSTALL_DIR_FULL "@PACKAGE_YARP_DATA_INSTALL_DIR@")
set(YARP_CONFIG_INSTALL_DIR_FULL "@PACKAGE_YARP_CONFIG_INSTALL_DIR@")
set(YARP_PLUGIN_MANIFESTS_INSTALL_DIR_FULL "@PACKAGE_YARP_PLUGIN_MANIFESTS_INSTALL_DIR@")
set(YARP_MODULES_INSTALL_DIR_FULL "@PACKAGE_YARP_MODULES_INSTALL_DIR@")
set(YARP_APPLICATIONS_INSTALL_DIR_FULL "@PACKAGE_YARP_APPLICATIONS_INSTALL_DIR@")
set(YARP_TEMPLATES_INSTALL_DIR_FULL "@PACKAGE_YARP_TEMPLATES_INSTALL_DIR@")
set(YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR_FULL "@PACKAGE_YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR@")
set(YARP_MODULES_TEMPLATES_INSTALL_DIR_FULL "@PACKAGE_YARP_MODULES_TEMPLATES_INSTALL_DIR@")
set(YARP_CONTEXTS_INSTALL_DIR_FULL "@PACKAGE_YARP_CONTEXTS_INSTALL_DIR@")
set(YARP_ROBOTS_INSTALL_DIR_FULL "@PACKAGE_YARP_ROBOTS_INSTALL_DIR@")
set(YARP_STATIC_PLUGINS_INSTALL_DIR_FULL "@PACKAGE_YARP_STATIC_PLUGINS_INSTALL_DIR@")
set(YARP_DYNAMIC_PLUGINS_INSTALL_DIR_FULL "@PACKAGE_YARP_DYNAMIC_PLUGINS_INSTALL_DIR@")
set(YARP_QML2_IMPORT_DIR_FULL "@PACKAGE_YARP_QML2_IMPORT_DIR@")

# Pass along some compilation options that may be useful for clients
# to check.
set(YARP_HAS_MATH_LIB TRUE)
set(YARP_HAS_NAME_LIB @YARP_HAS_NAME_LIB@)

set(YARP_USE_ATLAS @YARP_USE_ATLAS@) # This is a math library option
set(YARP_IS_SHARED_LIBRARY @CREATE_SHARED_LIBRARY@)

# Check if IDL is available
set(YARP_HAS_IDL @YARP_HAS_IDL@)
set(YARP_IDL_BINARY_HINT "@PACKAGE_YARP_IDL_BINARY_HINT@")

if(NOT TARGET YARP::YARP_OS)
    include(${CMAKE_CURRENT_LIST_DIR}/YARPTargets.cmake)
endif()

# Export variables for available targets
set(YARP_OS_LIBRARY YARP::YARP_OS)
set(YARP_SIG_LIBRARY YARP::YARP_sig)
if(TARGET YARP::YARP_math)
    set(YARP_MATH_LIBRARY YARP::YARP_math)
endif()
set(YARP_DEV_LIBRARY YARP::YARP_dev)
if(TARGET YARP::YARP_name)
    set(YARP_NAME_LIBRARY YARP::YARP_name)
endif()
set(YARP_INIT_LIBRARY YARP::YARP_init)

# load IDL functions
include(${YARP_MODULE_DIR}/YarpIDL.cmake)
